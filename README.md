# GameFast - Frontend

Это ветка фронтенд-части проекта GameFast - онлайн-магазина игровых консолей, игр и аксессуаров. В этой ветке содержится только клиентская часть приложения, разработанная с использованием React.

## Обзор фронтенд-части

Фронтенд GameFast представляет собой одностраничное приложение (SPA), разработанное с использованием современных технологий и библиотек экосистемы React. Приложение обеспечивает отзывчивый пользовательский интерфейс и оптимальный пользовательский опыт на различных устройствах.

## Технологии и инструменты

- **React** (v18.x) - основная библиотека для построения пользовательского интерфейса
- **React Router** (v6.x) - маршрутизация на стороне клиента
- **Redux** + **Redux Toolkit** - управление состоянием приложения
- **Axios** - HTTP-клиент для выполнения запросов к API
- **CSS/SCSS** - стилизация компонентов
- **Jest** и **React Testing Library** - тестирование компонентов
- **ESLint** и **Prettier** - статический анализ кода и форматирование

## Структура проекта

```
src/
├── components/              # React компоненты
│   ├── common/              # Общие компоненты (кнопки, формы, модальные окна)
│   ├── layout/              # Компоненты разметки (шапка, подвал, основной контейнер)
│   └── pages/               # Компоненты страниц
│       ├── Home/            # Главная страница
│       ├── Catalog/         # Страница каталога товаров
│       ├── ProductDetails/  # Страница с детальной информацией о товаре
│       ├── Cart/            # Корзина
│       ├── Checkout/        # Оформление заказа
│       ├── Account/         # Личный кабинет
│       └── Admin/           # Административная панель
├── redux/                   # Управление состоянием
│   ├── actions/             # Action creators
│   ├── reducers/            # Reducers
│   ├── store.js             # Конфигурация Redux store
│   └── types.js             # Константы типов действий
├── services/                # Сервисы для работы с API
│   ├── api.js               # Базовая настройка axios
│   ├── authService.js       # Сервис для аутентификации
│   ├── productService.js    # Сервис для работы с товарами
│   └── cartService.js       # Сервис для работы с корзиной
├── utils/                   # Вспомогательные функции
│   ├── formatters.js        # Форматирование данных (цены, даты и т.д.)
│   └── validators.js        # Валидация форм
├── styles/                  # CSS/SCSS стили
│   ├── global.scss          # Глобальные стили
│   ├── variables.scss       # Переменные (цвета, размеры и т.д.)
│   └── mixins.scss          # Миксины для SCSS
├── assets/                  # Статические ресурсы (изображения, шрифты)
├── App.js                   # Корневой компонент приложения
├── index.js                 # Точка входа
└── routes.js                # Конфигурация маршрутов
```

## Основные компоненты

### Общие компоненты (common)

- **Button** - кнопки различных типов и стилей
- **Input** - поля ввода с валидацией
- **Modal** - модальные окна
- **Loader** - индикаторы загрузки
- **Alert** - уведомления и предупреждения
- **Pagination** - компонент пагинации
- **Rating** - компонент отображения рейтинга

### Компоненты разметки (layout)

- **Header** - шапка сайта с навигацией и поиском
- **Footer** - подвал сайта с дополнительной информацией
- **Sidebar** - боковая панель с фильтрами и категориями
- **MainLayout** - основной контейнер для страниц

### Страницы (pages)

- **HomePage** - главная страница с баннерами и популярными товарами
- **CatalogPage** - страница каталога с фильтрацией и сортировкой
- **ProductDetailsPage** - страница с подробной информацией о товаре
- **CartPage** - страница корзины покупок
- **CheckoutPage** - страница оформления заказа
- **AccountPages** - страницы личного кабинета пользователя
- **AdminPages** - страницы административной панели

## Архитектурные паттерны

- **Компонентный подход** - разделение UI на независимые, переиспользуемые компоненты
- **Flux-архитектура** (через Redux) - однонаправленный поток данных
- **Container/Presentational Pattern** - разделение компонентов на контейнеры (логика) и презентационные (UI)
- **Hooks** - использование функциональных компонентов и хуков для управления состоянием и эффектами

## Установка и запуск

### Требования

- **Node.js** (версия 14.x или выше)
- **npm** (версия 6.x или выше)

### Шаги для запуска

1. Клонировать репозиторий:
```bash
git clone https://github.com/prizrok908/GameFast.git -b frontend
cd GameFast
```

2. Установить зависимости:
```bash
npm install
```

3. Создать файл `.env.local` с переменными окружения:
```
REACT_APP_API_URL=http://localhost:5000/api
REACT_APP_IMAGES_URL=http://localhost:5000/images
```

4. Запустить приложение в режиме разработки:
```bash
npm start
```

Приложение будет доступно по адресу [http://localhost:3000](http://localhost:3000).

## Сборка для продакшн

Для создания оптимизированной версии для продакшн:

```bash
npm run build
```

Собранные файлы будут находиться в папке `build/`.

## Тестирование

### Запуск тестов

```bash
npm test
```

### Запуск тестов с покрытием

```bash
npm test -- --coverage
```

## Линтинг и форматирование

### Проверка кода с ESLint

```bash
npm run lint
```

### Автоматическое исправление проблем с ESLint

```bash
npm run lint:fix
```

### Форматирование кода с Prettier

```bash
npm run format
```

## Взаимодействие с API

Фронтенд взаимодействует с бэкендом через REST API. Все запросы к API осуществляются через сервисы в папке `services/`. Базовый URL API настраивается через переменную окружения `REACT_APP_API_URL`.

### Примеры запросов

```javascript
// Получение списка игр
const getGames = async () => {
  try {
    const response = await api.get('/games');
    return response.data;
  } catch (error) {
    console.error('Error fetching games:', error);
    throw error;
  }
};

// Добавление товара в корзину
const addToCart = async (productId, quantity) => {
  try {
    const response = await api.post('/cart', { productId, quantity });
    return response.data;
  } catch (error) {
    console.error('Error adding to cart:', error);
    throw error;
  }
};
```

## Аутентификация

Для аутентифицированных запросов используется JWT (JSON Web Token). Токен сохраняется в localStorage и автоматически добавляется к каждому запросу через axios interceptors.

```javascript
// Настройка axios interceptors для добавления токена
api.interceptors.request.use(
  (config) => {
    const token = localStorage.getItem('token');
    if (token) {
      config.headers.Authorization = `Bearer ${token}`;
    }
    return config;
  },
  (error) => Promise.reject(error)
);
```

## Стилизация

В проекте используется комбинация CSS-модулей и SCSS для стилизации компонентов:

- **Глобальные стили** находятся в `src/styles/`
- **Компонентные стили** находятся рядом с соответствующими компонентами с расширением `.module.scss`

## Маршрутизация

Маршрутизация настроена с использованием React Router v6. Основные маршруты определены в файле `src/routes.js`.

```javascript
const routes = [
  { path: '/', element: <HomePage /> },
  { path: '/catalog', element: <CatalogPage /> },
  { path: '/product/:id', element: <ProductDetailsPage /> },
  { path: '/cart', element: <CartPage /> },
  { path: '/checkout', element: <CheckoutPage /> },
  { path: '/account/*', element: <AccountLayout /> },
  { path: '/admin/*', element: <AdminLayout /> },
  { path: '*', element: <NotFoundPage /> }
];
```

## Управление состоянием

Для управления глобальным состоянием приложения используется Redux с Redux Toolkit. Основные слайсы состояния:

- **auth** - состояние аутентификации пользователя
- **products** - состояние товаров и категорий
- **cart** - состояние корзины покупок
- **orders** - состояние заказов
- **ui** - состояние интерфейса (модальные окна, уведомления и т.д.)

## Рекомендации по разработке

1. **Компонентный подход** - создавайте небольшие, переиспользуемые компоненты
2. **Типизация** - используйте PropTypes для типизации props компонентов
3. **Тестирование** - пишите тесты для компонентов и утилит
4. **Документация** - документируйте сложные компоненты и функции
5. **Производительность** - используйте React.memo, useMemo и useCallback для оптимизации

## Лицензия

Проект распространяется под лицензией MIT. Подробности в файле [LICENSE](LICENSE). 